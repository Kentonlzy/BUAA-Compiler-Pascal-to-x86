这是最终的完整的代码，编译优化部分因为时间问题，只做了临时寄存器池，但是关于之前想做的几种编译优化，我做了相当多的思考，放在了申优文档中，供以后学这门课的学弟学妹参考。

关于文档，"编译课设文档.docx" 是最终老师评分的重要依据，设计部分我是直接从第四次作业中粘过来的，没有把未做的编译优化设计删掉。"编译课设申优文档.docx" 是打算申优的同学才需要写的，申优的条件有两个，一个是做了编译优化，一个就是写这个申优文档。这个文档是写给学弟学妹看的，里面总结自己的踩过的坑、所做的思考，以及给他们的建议等等。个人认为，申优文档干货满满，值得一看。

关于代码，这是最终验收通过的代码，没有 bug，功能上，实现了把所给的类 Pascal 语言源代码编译为 x86 汇编代码，并且生成的目标代码是可以直接用 x86 汇编器进行汇编、链接并运行的。做了一个优化：临时寄存器池。

关于测试程序，从始至终，主要是这一个测试程序，这个程序覆盖了全部语法，并且对全部功能做了测试。其中实现了一个汉诺塔程序来测试递归。

至此，编译原理的大作业做完，我也成功申到了优秀。

要说明一下，教我们的史老师，虽然我在文档中多次吐槽，但史老师的水平是真的很高的。课讲的一流，清清楚楚明明白白，而且工程经验丰富。印象最深的一个例子：最终验收编译优化时，史老师问我做了哪些优化？我说只做了临时寄存器池。他说打开一段目标代码看看，就能看出来做没做。结果只看了十几行就说可以了。这个足以说明史老师的水平了。感谢史老师传道授业解惑。